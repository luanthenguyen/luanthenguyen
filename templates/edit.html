{% extends "wiki-base.html" %}

{% block content %}
<script src="js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="js/ace/demo.js" type="text/javascript" charset="utf-8"></script>
<script src = "js/jquery-1.10.2.min.js"></script>
		<select id = "mode" onchange ="changeMode()">
		    <option value="ace/mode/javascript">javascript</option>
            <option value="ace/mode/html">html</option>
            <option value="ace/mode/ruby">ruby</option>
            <option value="ace/mode/python">python</option>
            <option value="ace/theme/xml">xml</option>
		</select>
        <select id="theme" size="1" onchange ="changeTheme()">
          <optgroup label="Bright">
            <option value="ace/theme/chrome">Chrome</option>
            <option value="ace/theme/clouds">Clouds</option>
            <option value="ace/theme/crimson_editor">Crimson Editor</option>
            <option value="ace/theme/dawn">Dawn</option>
            <option value="ace/theme/dreamweaver">Dreamweaver</option>
            <option value="ace/theme/eclipse">Eclipse</option>
            <option value="ace/theme/github">GitHub</option>
            <option value="ace/theme/solarized_light">Solarized Light</option>
            <option value="ace/theme/textmate" selected="selected">TextMate</option>
            <option value="ace/theme/tomorrow">Tomorrow</option>
            <option value="ace/theme/xcode">XCode</option>
          </optgroup>
          <optgroup label="Dark">
            <option value="ace/theme/ambiance">Ambiance</option>
            <option value="ace/theme/chaos">Chaos</option>
            <option value="ace/theme/clouds_midnight">Clouds Midnight</option>
            <option value="ace/theme/cobalt">Cobalt</option>
            <option value="ace/theme/idle_fingers">idleFingers</option>
            <option value="ace/theme/kr_theme">krTheme</option>
            <option value="ace/theme/merbivore">Merbivore</option>
            <option value="ace/theme/merbivore_soft">Merbivore Soft</option>
            <option value="ace/theme/mono_industrial">Mono Industrial</option>
            <option value="ace/theme/monokai">Monokai</option>
            <option value="ace/theme/pastel_on_dark">Pastel on dark</option>
            <option value="ace/theme/solarized_dark">Solarized Dark</option>
            <option value="ace/theme/terminal">Terminal</option>
            <option value="ace/theme/tomorrow_night">Tomorrow Night</option>
            <option value="ace/theme/tomorrow_night_blue">Tomorrow Night Blue</option>
            <option value="ace/theme/tomorrow_night_bright">Tomorrow Night Bright</option>
            <option value="ace/theme/tomorrow_night_eighties">Tomorrow Night 80s</option>
            <option value="ace/theme/twilight">Twilight</option>    
            <option value="ace/theme/vibrant_ink">Vibrant Ink</option>
          </optgroup>
        </select>
     <form method="post">
		<br>
	    <input id = "title"type = "text" name = "title" value = "{{title}}" placeholder = "Title" ></input> 
		<div id="editor">{{content}}</div>
        <textarea id = "txtcontent" type = "text" name="content"  style = "display : none;" placeholder = "content"></textarea>
      <div class="error">{{error}}</div>
      <button type="submit" >Save</button>
	  </form>
<script>
var editor = ace.edit("editor");
$(document).ready(function() {    // Handler for .ready() called.
		document.getElementById("txtcontent").value  = editor.getSession().getValue();
		editor.setTheme("ace/theme/monokai");
		editor.getSession().setMode(mode.value);		
		editor.getSession().on("change", function () {
		document.getElementById("txtcontent").value  = editor.getSession().getValue();
	});
});
function changeMode(){
	var mode = document.getElementById("mode");
	editor.getSession().setMode(mode.value);
}
function changeTheme(){
	var theme = document.getElementById("theme");
	editor.setTheme(theme.value);
}
</script>

{% endblock %}
